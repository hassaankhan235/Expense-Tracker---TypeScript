{"ast":null,"code":"var _jsxFileName = \"/home/khan/Desktop/Self Programming/typescript/expense_tracker/src/component/ExpenseComponent.tsx\";\nimport React from 'react';\nimport { ExpenseDispContainer } from './expensecomponent';\nimport './expensecomponent.css';\nimport { UseAppState } from '../appContext';\nimport { FormatDate } from '../Helper Function/functions';\n\nfunction ExpenseComponent(props) {\n  const {\n    title\n  } = props;\n  const {\n    state\n  } = UseAppState();\n  console.log(title);\n\n  const TotalDisplay = () => {\n    const Total = state.categories.reduce((acc, cat) => {\n      if (title === 'Balance') {\n        const monthTotal = window.localStorage.getItem('Month');\n        return state.Income - Number(monthTotal);\n      }\n\n      return acc + cat.expenses.reduce(getSum, 0);\n    }, 0);\n\n    if (title === 'This Month') {\n      window.localStorage.setItem('Month', JSON.stringify(Total));\n    }\n\n    return Total;\n  };\n\n  const getSum = (acc, exp) => {\n    // See Title if Today calculate Today's expense\n    if (title === 'Today' && FormatDate(exp.date).date === FormatDate(Date()).date) {\n      return acc + Number(exp.expense);\n    } // See Title if This Month calculate This Month expense\n    else if (title === 'This Month' && FormatDate(exp.date).month === FormatDate(Date()).month && FormatDate(exp.date).year === FormatDate(Date()).year) {\n        return acc + Number(exp.expense);\n      } else if (title === 'Balance') {\n        const monthTotal = window.localStorage.getItem('Month');\n        console.log('STORED', Number(state.Income) - Number(monthTotal));\n        return Number(state.Income) - Number(monthTotal);\n      }\n\n    return 0;\n  };\n\n  return /*#__PURE__*/React.createElement(ExpenseDispContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"total-expenses\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \" \", title, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"final-expenses\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, TotalDisplay())));\n}\n\nexport default ExpenseComponent;","map":{"version":3,"sources":["/home/khan/Desktop/Self Programming/typescript/expense_tracker/src/component/ExpenseComponent.tsx"],"names":["React","ExpenseDispContainer","UseAppState","FormatDate","ExpenseComponent","props","title","state","console","log","TotalDisplay","Total","categories","reduce","acc","cat","monthTotal","window","localStorage","getItem","Income","Number","expenses","getSum","setItem","JSON","stringify","exp","date","Date","expense","month","year"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\n\nimport {ExpenseDispContainer} from './expensecomponent'\nimport {ExpenseComponentprops} from '../types/types' \nimport './expensecomponent.css'\nimport { expense } from '../types/types'\nimport { UseAppState } from '../appContext'\nimport { FormatDate } from '../Helper Function/functions'\n\nfunction ExpenseComponent(props: ExpenseComponentprops) {\n  const {title} = props\n  const {state, } = UseAppState()\n  console.log(title)\n \n\n     \n  const TotalDisplay = () => {\n    const Total = state.categories.reduce((acc,cat) => {\n      if(title === 'Balance'){\n        const monthTotal = window.localStorage.getItem('Month')\n        return (state.Income - Number(monthTotal))}\n      return acc + cat.expenses.reduce(getSum,0)\n      },0)\n      if(title === 'This Month'){\n        window.localStorage.setItem('Month',JSON.stringify(Total))\n        } \n      return Total\n  }\n\n  const getSum = (acc : number,exp: expense) : number => {\n    // See Title if Today calculate Today's expense\n    if(title === 'Today' && FormatDate(exp.date).date === FormatDate(Date()).date){\n      \n      return (acc + Number(exp.expense)) \n    }\n    // See Title if This Month calculate This Month expense\n    else if(title === 'This Month' &&  \n    FormatDate(exp.date).month === FormatDate(Date()).month &&\n    FormatDate(exp.date).year === FormatDate(Date()).year){\n    return (acc + Number(exp.expense))\n   }\n   else if(title === 'Balance'){\n     const monthTotal = window.localStorage.getItem('Month')\n     console.log('STORED', Number(state.Income) -  Number(monthTotal))\n    return (Number(state.Income) -  Number(monthTotal))\n   } \n  return 0\n  }\n  \n\n  return (\n    <ExpenseDispContainer>\n      <div className='total-expenses'>\n        <div> {title} </div>\n        <div className='final-expenses'>\n      {\n          TotalDisplay()\n      }\n      </div>\n      </div>\n    </ExpenseDispContainer>\n  )\n}\n\nexport default ExpenseComponent\n"]},"metadata":{},"sourceType":"module"}