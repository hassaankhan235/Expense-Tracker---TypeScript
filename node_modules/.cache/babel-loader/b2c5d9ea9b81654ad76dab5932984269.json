{"ast":null,"code":"var _jsxFileName = \"/home/khan/Desktop/Self Programming/typescript/expense_tracker/src/appContext.tsx\";\nimport React, { createContext, useContext, useEffect, useReducer } from 'react';\nimport { v1 as uuid } from 'uuid';\nconst Appdata = {\n  Income: 20000,\n  categories: [{\n    id: uuid(),\n    title: 'First Aid',\n    click: false,\n    expenses: []\n  }, {\n    id: uuid(),\n    title: 'Transport',\n    click: false,\n    expenses: []\n  }, {\n    id: uuid(),\n    title: 'Automobile',\n    click: false,\n    expenses: []\n  }, {\n    id: uuid(),\n    title: 'Food',\n    click: false,\n    expenses: []\n  }, {\n    id: uuid(),\n    title: 'Rent',\n    click: false,\n    expenses: []\n  }, {\n    id: uuid(),\n    title: 'Gifts',\n    click: false,\n    expenses: []\n  }, {\n    id: uuid(),\n    title: 'Child Care',\n    click: false,\n    expenses: []\n  }, {\n    id: uuid(),\n    title: 'Clothing',\n    click: false,\n    expenses: []\n  }, {\n    id: uuid(),\n    title: 'Utilities',\n    click: false,\n    expenses: []\n  }]\n};\nconst DataContext = createContext({});\n\nconst appStateReducer = (state, action) => {\n  switch (action.type) {\n    case \"category_click\":\n      {\n        state.categories.map(item => {\n          return item.title === action.payload.text ? item.click = true : item.click = false;\n        });\n        console.log(state);\n        return { ...state\n        };\n      }\n\n    case \"save_expense\":\n      {\n        const categoryIndex = state.categories.findIndex(item => item.title === action.payload.text);\n        state.categories[categoryIndex].expenses.push({\n          date: action.payload.date,\n          expense: action.payload.expense\n        });\n      }\n  }\n\n  return { ...state\n  };\n};\n\nexport const DataContextProvider = ({\n  children\n}) => {\n  var _JSON$parse;\n\n  useEffect(() => {\n    localStorage.setItem('appData', JSON.stringify(Appdata));\n  });\n  const IS = localStorage.getItem('appData');\n  const Initial_state = (_JSON$parse = JSON.parse(IS)) !== null && _JSON$parse !== void 0 ? _JSON$parse : Appdata;\n  const [state, dispatch] = useReducer(appStateReducer, Initial_state);\n  return /*#__PURE__*/React.createElement(DataContext.Provider, {\n    value: {\n      state,\n      dispatch\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, children);\n};\nexport const UseAppState = () => {\n  return useContext(DataContext);\n};","map":{"version":3,"sources":["/home/khan/Desktop/Self Programming/typescript/expense_tracker/src/appContext.tsx"],"names":["React","createContext","useContext","useEffect","useReducer","v1","uuid","Appdata","Income","categories","id","title","click","expenses","DataContext","appStateReducer","state","action","type","map","item","payload","text","console","log","categoryIndex","findIndex","push","date","expense","DataContextProvider","children","localStorage","setItem","JSON","stringify","IS","getItem","Initial_state","parse","dispatch","UseAppState"],"mappings":"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","sourcesContent":["import React, { createContext, useContext, useEffect, useReducer } from 'react'\nimport { data , Action, appStateContextProps, expense} from './types/types'\nimport {v1 as uuid} from 'uuid'\n\nconst Appdata : data = {\n    Income : 20000,\n    categories : [\n        {id: uuid(), title: 'First Aid', click: false, \n        expenses: [] as expense[]},\n        {id: uuid(), title: 'Transport', click: false, expenses: [] as expense[]},\n        {id: uuid(), title: 'Automobile', click: false, expenses: [] as expense[]},\n        {id: uuid(), title: 'Food', click: false, expenses: [] as expense[]},\n        {id: uuid(), title: 'Rent', click: false, expenses: [] as expense[]},\n        {id: uuid(), title: 'Gifts', click: false, expenses: [] as expense[]},\n        {id: uuid(), title: 'Child Care', click: false, expenses: [] as expense[]},\n        {id: uuid(), title: 'Clothing', click: false, expenses: [] as expense[]},\n        {id: uuid(), title: 'Utilities', click: false, expenses: [] as expense[]}\n    ]\n}\n\n\nconst DataContext = createContext({} as appStateContextProps)\n\nconst appStateReducer = (state: data, action: Action) : data => {\n  switch(action.type){\n    case \"category_click\":{\n      state.categories.map(item => {\n        return item.title === action.payload.text ? item.click = true :\n        item.click = false \n      } ) \n      console.log(state)\n      return{...state}\n    }\n    case \"save_expense\" : {\n      const categoryIndex = state.categories.findIndex(item => item.title === action.payload.text)\n      state.categories[categoryIndex].expenses.push({date:action.payload.date, expense: action.payload.expense})\n    }\n  }\n  return{...state}\n}\n\nexport const DataContextProvider = ({children} : React.PropsWithChildren<{}>) => {\n  useEffect(() => {localStorage.setItem('appData', JSON.stringify(Appdata))})\n  const IS = localStorage.getItem('appData') as string\n  const Initial_state = JSON.parse(IS) ?? Appdata\n  const[state, dispatch] = useReducer(appStateReducer, Initial_state)\n    return (\n      <DataContext.Provider value={{state, dispatch}}>\n        {children}\n      </DataContext.Provider>\n    );\n  };\n\n  export const UseAppState = () => {\n    return useContext(DataContext)\n}\n"]},"metadata":{},"sourceType":"module"}